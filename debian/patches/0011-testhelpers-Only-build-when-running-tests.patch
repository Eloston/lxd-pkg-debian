From eb5090830d8c0838b2ccc322eb3571f9e2409825 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?St=C3=A9phane=20Graber?= <stgraber@ubuntu.com>
Date: Tue, 26 Sep 2017 13:16:20 -0400
Subject: testhelpers: Only build when running tests
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: St√©phane Graber <stgraber@ubuntu.com>
---
 shared/testhelpers/tempfile.go      | 18 ------------------
 shared/testhelpers/tempfile_test.go | 19 +++++++++++++++++++
 2 files changed, 19 insertions(+), 18 deletions(-)
 create mode 100644 shared/testhelpers/tempfile_test.go

diff --git a/shared/testhelpers/tempfile.go b/shared/testhelpers/tempfile.go
index b1abebe7..df4bd4fb 100644
--- a/shared/testhelpers/tempfile.go
+++ b/shared/testhelpers/tempfile.go
@@ -1,19 +1 @@
 package testhelpers
-
-import (
-	"os"
-
-	"github.com/stretchr/testify/suite"
-
-	"github.com/lxc/lxd/shared"
-)
-
-// WriteTempFile writes content to a temporary file.
-func WriteTempFile(s suite.Suite, dir string, prefix string, content string) (string, func()) {
-	filename, err := shared.WriteTempFile(dir, prefix, content)
-	if err != nil {
-		s.T().Fatalf("failed to create temporary file: %v", err)
-	}
-
-	return filename, func() { os.Remove(filename) }
-}
diff --git a/shared/testhelpers/tempfile_test.go b/shared/testhelpers/tempfile_test.go
new file mode 100644
index 00000000..b1abebe7
--- /dev/null
+++ b/shared/testhelpers/tempfile_test.go
@@ -0,0 +1,19 @@
+package testhelpers
+
+import (
+	"os"
+
+	"github.com/stretchr/testify/suite"
+
+	"github.com/lxc/lxd/shared"
+)
+
+// WriteTempFile writes content to a temporary file.
+func WriteTempFile(s suite.Suite, dir string, prefix string, content string) (string, func()) {
+	filename, err := shared.WriteTempFile(dir, prefix, content)
+	if err != nil {
+		s.T().Fatalf("failed to create temporary file: %v", err)
+	}
+
+	return filename, func() { os.Remove(filename) }
+}
