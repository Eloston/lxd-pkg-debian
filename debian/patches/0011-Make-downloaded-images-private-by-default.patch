From a66a2ce472fd37441c102eaa3931aa781c784146 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?St=C3=A9phane=20Graber?= <stgraber@ubuntu.com>
Date: Tue, 6 Oct 2015 12:49:14 +0100
Subject: Make downloaded images private by default
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Automatically cached images should be private and copied images should
only be public if the user passes --public.

Signed-off-by: St√©phane Graber <stgraber@ubuntu.com>
---
 lxd/daemon_images.go | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/lxd/daemon_images.go b/lxd/daemon_images.go
index 5504894..8da6118 100644
--- a/lxd/daemon_images.go
+++ b/lxd/daemon_images.go
@@ -238,6 +238,9 @@ func (d *Daemon) ImageDownload(
 		}
 	}
 
+	// By default, make all downloaded images private
+	info.Public = false
+
 	_, err = imageBuildFromInfo(d, info)
 	if err != nil {
 		shared.Log.Error(
